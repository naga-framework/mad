[
{naga, [        
        {log_modules, [
                       {{appid}}_app
                       ,{{appid}}_sup
                       ,{{appid}}
                      ]}
]},

{n2o,[
         {websocket_port, {{webport}} }
        ,{log_level, naga_log}
        ,{log_backend, naga_log}
        ,{log_modules, naga_log}
        ,{session, naga_session},
        ,{session_cookie_name, <<"{{appid}}-sid">>}
]},

{lager, [
      {handlers, [
                  {lager_console_backend, [{{loglevel}}, 
                                           {lager_default_formatter, [time,color," [",severity,"] ",
                                                           message, "\e[0m\n"]}
                                          ]},

                  {lager_file_backend, [{file, "./log/info.log"}, 
                                        {level, info},
                                        {size, 10485760}, {date, "$D0"}, {count, 5}, 
                                        {formatter, lager_default_formatter},
                                        {formatter_config, 
                                           [date, " ", time," [",severity,"] ", pid, " ", message, "\n"]}
                  ]},

                  {lager_file_backend, [{file, "./log/error.log"}, 
                                        {level, error},
                                        {size, 10485760}, {date, "$D0"}, {count, 5}, 
                                        {formatter, lager_default_formatter},
                                        {formatter_config, 
                                           [date, " ", time," [",severity,"] ", pid, " ", message, "\n"]}
                  ]}
     ]},
    {crash_log, "./log/crash.log"},
    %{crash_log_msg_size, 65536},
    %{crash_log_size, 0},
    %{crash_log_count, 0},

    {error_logger_redirect, true},
    {error_logger_hwm, 50},
    {async_threshold, 20},
    {async_threshold_window, 5},
    {colored, true},
    {colors, [
              {debug,     "\e[0;38m" },
              {info,      "\e[1;37m" },
              {notice,    "\e[1;36m" },
              {warning,   "\e[1;33m" },
              {error,     "\e[1;31m" },
              {critical,  "\e[1;35m" },
              {alert,     "\e[1;44m" },
              {emergency, "\e[1;41m" }
             ]}
]},

{ {{appid}}, [
         {assume_locale, "en"} 
         ,{base_url, "/"}
         ,{sub_modules, []} %% 
         ,{controller_filter_config, [{lang, auto}]}
         ,{websocket_timeout, 5000}

         ,{listeners,[
                      {http, [{acceptors, 100},{ip,{0,0,0,0}},{port,{{webport}} }]}
                      ]}

         ,{filter_enable, false}
         ,{filters, []}
         ,{template_tag_modules, []}
         ,{template_filter_modules, []}
         ,{template_auto_escape, true}

         ,{db_host, "localhost"}
         ,{db_port, 3306}
         ,{db_adapter, mock}
         ,{db_username, "{{appid}}_dba"}
         ,{db_password, "{{appid}}_pass"}
         ,{db_database, "{{appid}}_db"}

         ,{cache_enable, false}
         ,{cache_adapter, memcached_bin}
         ,{cache_enable, false}
         ,{cache_servers, [{"localhost", 11211, 1}]}
         ,{cache_exp_time, 3600} 

         ,{fcgi_enabled, true}
         ,{fcgi_prefix, "/fcgi"}
         ,{fcgi_exe, 'php-fpm'}
         ,{fcgi_dir, "fcgi"}
         ,{fcgi_script_dir, "priv/fcgi/docroot"}
         ,{fcgi_config, "php-fpm.conf"}        
]}
].
